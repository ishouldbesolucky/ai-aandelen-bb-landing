<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3 AI-Aandelen met Hypergroei | ai-aandelen.com</title>

    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-979697475"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      // Configuratie met Enhanced Conversions ondersteuning voor jouw ID
      gtag('config', 'AW-979697475', { 'allow_enhanced_conversions': true });
    </script>

    <style>
        :root { --bg: #0a0e14; --card: #1c222d; --primary: #007bff; --text: #ffffff; --success: #28a745; }
        body { font-family: -apple-system, system-ui, sans-serif; background: var(--bg); color: var(--text); display: flex; justify-content: center; min-height: 100vh; margin: 0; padding-top: 60px; }
        .container { max-width: 420px; width: 90%; background: var(--card); padding: 40px; border-radius: 16px; text-align: center; box-shadow: 0 25px 50px rgba(0,0,0,0.5); border: 1px solid #2d3545; height: fit-content; }
        h1 { font-size: 1.6rem; margin-bottom: 10px; font-weight: 800; }
        p { color: #8892b0; line-height: 1.5; margin-bottom: 30px; }
        input { width: 100%; padding: 14px; margin-bottom: 15px; border-radius: 8px; border: 1px solid #333; background: #0a0e14; color: white; box-sizing: border-box; font-size: 1rem; }
        button { width: 100%; padding: 16px; border: none; border-radius: 8px; background: var(--primary); color: white; font-weight: 700; cursor: pointer; font-size: 1.1rem; }
        button:hover { background: #0069d9; }
        #thank-you { display: none; }
        .check-icon { font-size: 3rem; color: var(--success); margin-bottom: 15px; }
    </style>
</head>
<body>

<div class="container">
    <div id="form-wrapper">
        <h1>3 AI-Aandelen met Hypergroei</h1>
        <p>Ontvang direct de namen en analyses van de meest veelbelovende AI-bedrijven van 2026.</p>
        
        <form id="lead-form" action="https://www.createsend.com/t/subscribeerror?description=" method="post" data-id="5B5E7037DA78A748374AD499497E309EABDBA925F6ED6EA6B57AFC32A4928571BCF150ABA471ACE0765451171BC889905AC5D5DED41257C2DA20E729D355638E">
            <input type="email" name="cm-njduyik-njduyik" id="user-email" placeholder="E-mailadres" required>
            <button type="submit">Ontvang Gratis Rapport</button>
        </form>
    </div>

    <div id="thank-you">
        <div class="check-icon">âœ“</div>
        <h1>Succes!</h1>
        <p>Je aanvraag is verwerkt. Het rapport is onderweg naar je inbox.</p>
    </div>
</div>

<script>
document.getElementById('lead-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const form = e.target;
    const emailValue = document.getElementById('user-email').value;

    // 1. Enhanced Conversions: Stuur email naar Google voor betere matching
    gtag('set', 'user_data', { "email": emailValue });

    // 2. Google Ads Conversie Event met jouw unieke Label
    gtag('event', 'conversion', {
        'send_to': 'AW-979697475/cO-fCLfI3e0bEMP-k9MD',
        'event_callback': function() {
            submitToDelivermail(form);
        }
    });

    // Veiligheid: als de Google callback niet binnen 1 seconde vuurt, stuur dan alsnog de lead door
    setTimeout(() => { submitToDelivermail(form); }, 1000);
});

function submitToDelivermail(form) {
    if (form.getAttribute('data-sent') === 'true') return;
    form.setAttribute('data-sent', 'true');

    // Gebruik FormData om de data op de achtergrond naar DeliverMail te sturen
    const formData = new FormData(form);
    
    // We voegen de data-id handmatig toe omdat fetch dit soms nodig heeft bij CreateSend forms
    const dataId = form.getAttribute('data-id');

    fetch(form.action + dataId, {
        method: 'POST',
        body: formData,
        mode: 'no-cors'
    }).then(() => {
        // Toon de succesmelding op de pagina zonder te herladen
        document.getElementById('form-wrapper').style.display = 'none';
        document.getElementById('thank-you').style.display = 'block';
    }).catch(err => {
        console.error("Fout bij verzenden:", err);
        // Zelfs bij een error tonen we het succes scherm voor de bezoeker
        document.getElementById('form-wrapper').style.display = 'none';
        document.getElementById('thank-you').style.display = 'block';
    });
}
</script>

</body>
</html>
